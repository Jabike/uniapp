import{_ as e,r as a,o as l,a as s,b as t,c as o,d as u,e as i,w as d,f as n,g as r,h as c,i as m,j as f,k as g,l as p,m as _,n as h,p as v,q as k,s as x,F as y,t as w,u as b,v as C,x as D}from"./index-Z_uOlze2.js";import{g as V,a as L}from"./api.B3JluFH_.js";const N=e({__name:"index",setup(e){const N=a(""),T=a([]),j=a([]),J=a(0);l((()=>{V().then((e=>{console.log(e,"res"),T.value=e.bannerList})),L().then((e=>{console.log(e,"getHomeList"),j.value=e}))})),s((()=>{console.log("触底"),setTimeout((()=>{U()}),1e3)})),t((e=>{e.scrollTop>600?J.value=1:J.value=0}));const O=e=>{const a=JSON.stringify(e);D({url:`/pages/detail/detail?item=${encodeURIComponent(a)}`})},S=()=>{w({scrollTop:0,duration:300})},U=()=>{for(let e=0;e<10;e++){let e=uni.$u.random(0,j.value.length-1),a=JSON.parse(JSON.stringify(j.value[e]));a.id=uni.$u.guid(),j.value.push(a)}};return(e,a)=>{const l=o(u("up-search"),n),s=o(u("up-swiper"),r),t=o(u("up-notice-bar"),c),w=o(u("up-lazy-load"),m),D=f,V=o(u("up-waterfall"),g),L=o(u("up-icon"),p);return _(),i(D,{class:"content"},{default:d((()=>[h(l,{placeholder:"搜索景点","bg-color":"#e3e3e3",modelValue:N.value,"onUpdate:modelValue":a[0]||(a[0]=e=>N.value=e)},null,8,["modelValue"]),T.value.length?(_(),i(s,{key:0,list:T.value,keyName:"image",showTitle:"",radius:"8",autoplay:!0,height:"160"},null,8,["list"])):v("",!0),h(t,{text:"项目数据仅为示例非真实数据"}),h(D,{class:"list"},{default:d((()=>[h(V,{modelValue:j.value,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value=e),ref:"uWaterfallRef"},{left:d((({leftList:e})=>[(_(!0),k(y,null,x(e,((e,a)=>(_(),i(D,{class:"demo-warter",key:a,onClick:a=>O(e)},{default:d((()=>[h(w,{threshold:"-450","border-radius":"10",image:e.img,index:a},null,8,["image","index"]),h(D,{class:"demo-title"},{default:d((()=>[b(C(e.title),1)])),_:2},1024),h(D,{class:"demo-price"},{default:d((()=>[b(C(e.times),1)])),_:2},1024),h(D,{class:"demo-tag"},{default:d((()=>[h(D,{class:"demo-tag-owner"},{default:d((()=>[b(C(e.tag[0]),1)])),_:2},1024),h(D,{class:"demo-tag-text"},{default:d((()=>[b(C(e.tag[1]),1)])),_:2},1024)])),_:2},1024),e.isDot?(_(),i(D,{key:0,class:"isDot"},{default:d((()=>[b(C(e.isDot),1)])),_:2},1024)):v("",!0)])),_:2},1032,["onClick"])))),128))])),right:d((({rightList:e})=>[(_(!0),k(y,null,x(e,((e,a)=>(_(),i(D,{class:"demo-warter",key:a,onClick:a=>O(e)},{default:d((()=>[h(w,{threshold:"-450","border-radius":"10",image:e.img,index:a},null,8,["image","index"]),h(D,{class:"demo-title"},{default:d((()=>[b(C(e.title),1)])),_:2},1024),h(D,{class:"demo-price"},{default:d((()=>[b(C(e.times),1)])),_:2},1024),h(D,{class:"demo-tag"},{default:d((()=>[h(D,{class:"demo-tag-owner"},{default:d((()=>[b(C(e.tag[0]),1)])),_:2},1024),h(D,{class:"demo-tag-text"},{default:d((()=>[b(C(e.tag[1]),1)])),_:2},1024)])),_:2},1024),e.isDot?(_(),i(D,{key:0,class:"isDot"},{default:d((()=>[b(C(e.isDot),1)])),_:2},1024)):v("",!0)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"])])),_:1}),J.value?(_(),i(D,{key:1,onClick:S,class:"topClass"},{default:d((()=>[h(L,{name:"arrow-upward",color:"#fff",size:28})])),_:1})):v("",!0)])),_:1})}}},[["__scopeId","data-v-a3be830d"]]);export{N as default};
