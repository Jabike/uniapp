import{_ as e,m as t,e as s,w as o,A as l,B as i,C as a,z as n,u as c,v as d,p as u,j as f,x as r,D as _,E as p,G as h,c as m,d as y,n as g,y as b,H as k,o as w,I as x,J as S,r as v,K as C,q as B,F as $,L as z,M as N,N as I,O as T,P as F}from"./index-Z_uOlze2.js";import{b as A,c as U}from"./api.B3JluFH_.js";const j=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const P=e({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:j}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(e){this.$emit("click",e)}}},[["render",function(e,c,d,u,f,r){const _=n;return t(),s(_,{style:i(r.styleObj),class:a(["uni-icons",["uniui-"+d.type,d.customPrefix,d.customPrefix?d.type:""]]),onClick:r._onClick},{default:o((()=>[l(e.$slots,"default",{},void 0,!0)])),_:3},8,["style","class","onClick"])}],["__scopeId","data-v-b25a9929"]]);const O=e({name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:e,type:t,size:s,absolute:o}=this;return[e?"uni-badge--"+t+"-inverted":"","uni-badge--"+t,"uni-badge--"+s,o?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let e=this.width/2,t=10;this.isDot&&(e=5,t=5);const s=`${-e+this.offset[0]}px`,o=`${-t+this.offset[1]}px`,l={rightTop:{right:s,top:o},rightBottom:{right:s,bottom:o},leftBottom:{left:s,bottom:o},leftTop:{left:s,top:o}},i=l[this.absolute];return i||l.rightTop},dotStyle(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue(){const{isDot:e,text:t,maxNum:s}=this;return e?"":Number(t)>s?`${s}+`:t}},methods:{onClick(){this.$emit("click")}}},[["render",function(e,r,_,p,h,m){const y=n,g=f;return t(),s(g,{class:"uni-badge--x"},{default:o((()=>[l(e.$slots,"default",{},void 0,!0),_.text?(t(),s(y,{key:0,class:a([m.classNames,"uni-badge"]),style:i([m.positionStyle,_.customStyle,m.dotStyle]),onClick:r[0]||(r[0]=e=>m.onClick())},{default:o((()=>[c(d(m.displayValue),1)])),_:1},8,["class","style"])):u("",!0)])),_:3})}],["__scopeId","data-v-414d462c"]]);const L=e({name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number,String],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},badgeStyle:{type:Object,default:()=>({})},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:()=>({type:"",color:"#000000",size:20,customPrefix:""})},border:{type:Boolean,default:!0},customStyle:{type:Object,default:()=>({padding:"",backgroundColor:"#FFFFFF"})},keepScrollPosition:{type:Boolean,default:!1}},watch:{"customStyle.padding":{handler(e){"number"==typeof e&&(e+="");let t=e.split(" ");if(1===t.length){const e=t[0];this.padding={top:e,right:e,bottom:e,left:e}}else if(2===t.length){const[e,s]=t;this.padding={top:e,right:s,bottom:e,left:s}}else if(3===t.length){const[e,s,o]=t;this.padding={top:e,right:s,bottom:o,left:s}}else if(4===t.length){const[e,s,o,l]=t;this.padding={top:e,right:s,bottom:o,left:l}}},immediate:!0}},data:()=>({isFirstChild:!1,padding:{top:"",right:"",bottom:"",left:""}}),mounted(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm(e="uniList"){let t=this.$parent,s=t.$options.name;for(;s!==e;){if(t=t.$parent,!t)return!1;s=t.$options.name}return t},onClick(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange(e){this.$emit("switchChange",e.detail)},openPage(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi(e){let t={url:this.to,success:e=>{this.$emit("click",{data:e})},fail:e=>{this.$emit("click",{data:e})}};switch(e){case"navigateTo":default:r(t);break;case"redirectTo":h(t);break;case"reLaunch":p(t);break;case"switchTab":_(t)}}}},[["render",function(e,r,_,p,h,w){const x=f,S=b,v=m(y("uni-icons"),P),C=n,B=m(y("uni-badge"),O),$=k;return t(),s(x,{class:a([{"uni-list-item--disabled":_.disabled},"uni-list-item"]),style:i({"background-color":_.customStyle.backgroundColor}),"hover-class":!_.clickable&&!_.link||_.disabled||_.showSwitch?"":"uni-list-item--hover",onClick:w.onClick},{default:o((()=>[h.isFirstChild?u("",!0):(t(),s(x,{key:0,class:a(["border--left",{"uni-list--border":_.border}])},null,8,["class"])),g(x,{class:a(["uni-list-item__container",{"container--right":_.showArrow||_.link,"flex--direction":"column"===_.direction}]),style:i({paddingTop:h.padding.top,paddingLeft:h.padding.left,paddingRight:h.padding.right,paddingBottom:h.padding.bottom})},{default:o((()=>[l(e.$slots,"header",{},(()=>[g(x,{class:"uni-list-item__header"},{default:o((()=>[_.thumb?(t(),s(x,{key:0,class:"uni-list-item__icon"},{default:o((()=>[g(S,{src:_.thumb,class:a(["uni-list-item__icon-img",["uni-list--"+_.thumbSize]])},null,8,["src","class"])])),_:1})):_.showExtraIcon?(t(),s(x,{key:1,class:"uni-list-item__icon"},{default:o((()=>[g(v,{customPrefix:_.extraIcon.customPrefix,color:_.extraIcon.color,size:_.extraIcon.size,type:_.extraIcon.type},null,8,["customPrefix","color","size","type"])])),_:1})):u("",!0)])),_:1})]),!0),l(e.$slots,"body",{},(()=>[g(x,{class:a(["uni-list-item__content",{"uni-list-item__content--center":_.thumb||_.showExtraIcon||_.showBadge||_.showSwitch}])},{default:o((()=>[_.title?(t(),s(C,{key:0,class:a(["uni-list-item__content-title",[0!==_.ellipsis&&_.ellipsis<=2?"uni-ellipsis-"+_.ellipsis:""]])},{default:o((()=>[c(d(_.title),1)])),_:1},8,["class"])):u("",!0),_.note?(t(),s(C,{key:1,class:"uni-list-item__content-note"},{default:o((()=>[c(d(_.note),1)])),_:1})):u("",!0)])),_:1},8,["class"])]),!0),l(e.$slots,"footer",{},(()=>[_.rightText||_.showBadge||_.showSwitch?(t(),s(x,{key:0,class:a(["uni-list-item__extra",{"flex--justify":"column"===_.direction}])},{default:o((()=>[_.rightText?(t(),s(C,{key:0,class:"uni-list-item__extra-text"},{default:o((()=>[c(d(_.rightText),1)])),_:1})):u("",!0),_.showBadge?(t(),s(B,{key:1,type:_.badgeType,text:_.badgeText,"custom-style":_.badgeStyle},null,8,["type","text","custom-style"])):u("",!0),_.showSwitch?(t(),s($,{key:2,disabled:_.disabled,checked:_.switchChecked,onChange:w.onSwitchChange},null,8,["disabled","checked","onChange"])):u("",!0)])),_:1},8,["class"])):u("",!0)]),!0)])),_:3},8,["class","style"]),_.showArrow||_.link?(t(),s(v,{key:1,size:16,class:"uni-icon-wrapper",color:"#bbb",type:"right"})):u("",!0)])),_:3},8,["class","style","hover-class","onClick"])}],["__scopeId","data-v-64145c08"]]);const D=e({name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{stackFromEnd:{type:Boolean,default:!1},enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0},renderReverse:{type:Boolean,default:!1}},created(){this.firstChildAppend=!1},methods:{loadMore(e){this.$emit("scrolltolower")},scroll(e){this.$emit("scroll",e)}}},[["render",function(e,i,a,n,c,d){const r=f;return t(),s(r,{class:"uni-list uni-border-top-bottom"},{default:o((()=>[a.border?(t(),s(r,{key:0,class:"uni-list--border-top"})):u("",!0),l(e.$slots,"default",{},void 0,!0),a.border?(t(),s(r,{key:1,class:"uni-list--border-bottom"})):u("",!0)])),_:3})}],["__scopeId","data-v-c1d7c358"]]),E=e({__name:"my",setup(e){w((async()=>{if(x("token")&&!x("userInfo")){const{avatarUrl:e,nickName:t}=await A();r.avatarUrl=e,r.nickName=t}else if(x("token")&&x("userInfo")){const{avatarUrl:e,nickName:t}=JSON.parse(x("userInfo"));r.avatarUrl=e,r.nickName=t}}));const l=S({color:"#666666",size:"22",type:"auth"}),i=S({color:"#666666",size:"22",type:"cart"}),a=S({color:"#666666",size:"22",type:"chatboxes"}),n=S({color:"#666666",size:"22",type:"email"}),u=S({color:"#666666",size:"22",type:"gift"}),r=S({nickName:"",avatarUrl:""}),_=v(!1),p=()=>{_.value=!1},h=e=>{r.avatarUrl=e.detail.avatarUrl},k=e=>{r.nickName=e.detail.value},j=()=>{z("userInfo",JSON.stringify(r)),_.value=!1},O=()=>{N({title:"温馨提示",content:"亲，授权微信登录后才能正常使用小程序",success(e){e.confirm&&I({success:async e=>{console.log(e);const{token:t}=await U(e.code);console.log(t,"token"),z("token",t);const{avatarUrl:s,nickName:o}=await A();r.avatarUrl=s,r.nickName=o,_.value=!0}})}})};return(e,w)=>{const x=m(y("uni-icons"),P),S=f,v=b,z=m(y("uni-list-item"),L),N=m(y("uni-list"),D),I=T,A=F,U=m(y("up-popup"),C);return t(),s(S,{class:"content"},{default:o((()=>[g(S,{class:"topBox"},{default:o((()=>[g(S,{class:"setbox"},{default:o((()=>[g(S,{class:"set-left"},{default:o((()=>[g(x,{type:"calendar",size:"30",color:"#fff"}),g(S,{class:"txt"},{default:o((()=>[c(" 签到 ")])),_:1})])),_:1}),g(S,{class:"set-right"},{default:o((()=>[g(x,{type:"gear",size:"30",color:"#fff"}),g(x,{type:"chat",size:"30",color:"#fff"})])),_:1})])),_:1}),g(S,{class:"users",onClick:O},{default:o((()=>[g(S,{class:"u-top"},{default:o((()=>[r.nickName?(t(),B($,{key:1},[g(v,{src:r.avatarUrl,mode:"aspectFill"},null,8,["src"]),g(S,{class:"tit"},{default:o((()=>[c(d(r.nickName),1)])),_:1})],64)):(t(),B($,{key:0},[g(v,{src:"/assets/tt-DvmlUncH.jpg",mode:"aspectFill"}),g(S,{class:"tit"},{default:o((()=>[c(" 注册/登录 ")])),_:1})],64))])),_:1}),g(S,{class:"u-bottom"},{default:o((()=>[g(S,{class:"u-item"},{default:o((()=>[g(S,{class:"num"},{default:o((()=>[c("12")])),_:1}),g(S,{class:"u-tit"},{default:o((()=>[c("点赞")])),_:1})])),_:1}),g(S,{class:"u-item"},{default:o((()=>[g(S,{class:"num"},{default:o((()=>[c("12")])),_:1}),g(S,{class:"u-tit"},{default:o((()=>[c("喜欢")])),_:1})])),_:1}),g(S,{class:"u-item"},{default:o((()=>[g(S,{class:"num"},{default:o((()=>[c("12")])),_:1}),g(S,{class:"u-tit"},{default:o((()=>[c("浏览")])),_:1})])),_:1}),g(S,{class:"u-item"},{default:o((()=>[g(S,{class:"num"},{default:o((()=>[c("12")])),_:1}),g(S,{class:"u-tit"},{default:o((()=>[c("收藏")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),g(S,{class:"listBox"},{default:o((()=>[g(S,{class:"lists"},{default:o((()=>[g(N,null,{default:o((()=>[g(z,{"show-extra-icon":!0,"extra-icon":l,showArrow:"",title:"个人信息",clickable:""},null,8,["extra-icon"]),g(z,{"show-extra-icon":!0,"extra-icon":i,showArrow:"",title:"我的购物车",clickable:""},null,8,["extra-icon"]),g(z,{"show-extra-icon":!0,"extra-icon":a,showArrow:"",title:"用户反馈",clickable:""},null,8,["extra-icon"]),g(z,{"show-extra-icon":!0,"extra-icon":n,showArrow:"",title:"我的邮件",clickable:""},null,8,["extra-icon"]),g(z,{"show-extra-icon":!0,"extra-icon":u,showArrow:"",title:"分享有礼",clickable:""},null,8,["extra-icon"])])),_:1})])),_:1})])),_:1}),g(U,{closeable:"",onClose:p,show:_.value,round:"20"},{default:o((()=>[g(S,{class:"popup"},{default:o((()=>[g(S,{class:"title"},{default:o((()=>[c("获取您的昵称、头像")])),_:1}),g(S,{class:"flex"},{default:o((()=>[g(S,{class:"label"},{default:o((()=>[c("获取用户头像：")])),_:1}),g(I,{class:"avatar-warpper","open-type":"chooseAvatar",onChooseavatar:h},{default:o((()=>[g(v,{class:"avatar",src:r.avatarUrl},null,8,["src"])])),_:1})])),_:1}),g(S,{class:"flex"},{default:o((()=>[g(S,{class:"label"},{default:o((()=>[c("获取用户昵称：")])),_:1}),g(A,{onInput:k,type:"nickname"})])),_:1}),g(I,{size:"default",type:"primary",onClick:j},{default:o((()=>[c("确定")])),_:1})])),_:1})])),_:1},8,["show"])])),_:1})}}},[["__scopeId","data-v-544d66d4"]]);export{E as default};
